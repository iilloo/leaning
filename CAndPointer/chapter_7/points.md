#### chapter 7 函数

1. **建议函数先声明后写定义，函数的调用必须在函数的声明后**
   每个函数必须有原型，且调用必须在原型之后
2. c语言不支持函数的重载，函数都应该声明为全局类型，每个函数名对应唯一一个函数
3. 编译器在函数调用时未看到函数声明或定义时(函数的定义或声明写在调用后面)，会为该函数进行隐式声明，认为参数类型就是函数调用里的形参的类型，该函数的返回值是整型,看到后面的具体的函数定义后，编译器仍然认为该函数的返回值类型是整型（如果实际的返回类型是float，声明或定义中的形参与隐式声明中的不同就会报错），只有当后面的函数定义或声明的返回类型、参数类型与编译器隐式声明保持一致时才不会报错（一方面的原因是值得类型不是值的内在本质，这取决于它被使用的方式）
4. c语言的所有参数均以“传值调用”方式进行传递，函数将获得参数值的一份拷贝，传递指针能够修改指针所指变量的值，但不能修改实参指针变量所存的地址的值，能修改的是拷贝生成的、作用域为当前函数的指针变量所存的地址值
5. 数组int a[]作为函数的参数时(数组参数可以不声明大小)，必须要有一个指定传入的数组的大小的参数，因为不能由传入的数组参数判断数组的大小(数组名在作为参数传递时已经隐式转换为与之对应的普通参数类型)
6. static关键字作用于函数和全局变量会使函数和该变量的作用域仅限在该文件内
7. 为了程序的可移植性，得到数字字符'0'到'9'可用'0'+1得到字符'1' 等等
8. putchar('字符');将打印某个字符到输出流中
9. 尾部递归(函数在递归调用返回后不执行任何操作)可以很方便的转换为一个简单的循环
10. 当一个问题相当复杂，难以用迭代实现时，可以用递归实现
11. [缺省参数类型提升是指在调用没有原型的函数或者可变长参数函数时，对实参进行的一些隐式转换](https://stackoverflow.com/questions/60221297/i-want-default-argument-promotions-example)

    * 整型类型（char、short、int）如果小于int的长度，都会提升为int或者unsigned int。
    * 浮点类型（float）会提升为double。
    * 没有原型的函数已经被现代c标准抛弃
12. 利用stdarg.h中声明的va_list类型、和三个宏va_start、va_arg、va_end可以实现让一个函数可以接受不固定数目的参数(可变参数列表)

    ```c
    int sum(int n , ... );
    int sum(int n,...)
    {
    va_list ap;
    int sum = 0;
    va_start(ap,n);
    for (int i = 0; i < n; i++)
    {
    sum += va_arg(ap,int);
    }
    va_end(ap);
    return  sum;

    }
    ```
    > 参数列表中的省略号表示此处可以传递数量和类型未知的参数，声明的va_list类型的变量ap用于访问参数列表的未确定部分，此变量通过调用va_start函宏来初始化(第一个参数是va_list类型的变量名ap，第二个参数是省略号前最后一个有名字的参数，初始化函数将ap变量设置为指向可变参数部分的第一个参数)；使用va_arg宏可以访问参数列表中的参数(两个参数，第一个是va_list类型的ap和参数列表中的下一个参数的类型)，va_arg返回这个参数的值，并使var_arg指向下一个可变参数；当我们不想继续访问或可变参数访问完毕后可以调用va_end宏
    >
13. 可变参数必须从头到尾按照顺序逐各访问，可以不访问完，但不能已开始就访问参数列表中间的参数，

    参数列表中至少要有一个命名参数，这样才能使用va_start；可以通过命名参数来指定传入的可变参数的具体数量和传入的类型
14. 在va_arg宏中存在缺省的参数类型提升，char、short被提升为int传递给函数，float被提升为double,使用这些类型要小心
