#### 第8章 数组

1. 只有当数组名在表达式中使用时，编译器将其隐式转换为一个指针常量
   只有当对数组名使用sizeof()运算符和&运算符的时候，编译器并不会将其隐式转换为指针常量
2. 除了优先级外，下标引用和简介访问完全相同
   所以对于指向数组元素的指针可以使用下标的形式

   ```c
   int a[5] = {0} ;
   int *b = a + 2 ; 
   int c = b[-1] ;
   int d = b[2] ; 
   ```

   b[-1]表示a[1], b[2]表示a[4]
3. 其实任意的指针(不仅仅是数组)可以使用下标引用和数量加减，只是结果是不确定的

   ```c
   int c = 0 ;
   int e = 0 ;
   int *a = &c;
   int *b = a+1 ; 
   int d = a[1] ;
   ```

   所以不能这样写
4. 虽然有时候使用指针变量比使用下标效率更高，但代码的可读性和简洁性也很重要
   建议使用下标的形式
5. 对于不能修改的内容建议用const关键字修饰
6. 存储于静态内存中的数组只在程序执行之前初始化一次，如果数组未手动初始化，则编译器将把数组的所有元素都初始化为0；作为自动变量的数组是否进行初始化，需要仔细考量
7. ```c
   int a[3] = {1 , 2} ;
   ```

   表示对数组a的第一个值初始化为1，第二个值初始化为2，第三个值初始化为0
8. ```c
   char char_1[] = "HELLO" ;
   char *char_2 = "HELLO" ;
   ```

   前者为对字符数组进行初始化，后者为将char_2进行初始化，使其指向字符串常量HELLO
9. 数组都是顺序储存的，多维数组也是
10. 数组名是指向第一个元素的，一维数组就是指向第一个数组元素，二维数组就是指向第一个一维数组元素(行指针，把二维数组理解成一维数组，数组的元素是一维数组)，三维数组的数组名就是指向第一个二维数组的指针
11. 指针+1,返回的值具体相比较于原指针向后偏移了多少个字节，由指针指向的数据类型决定。指向int就向后移动int类型的字节数，指向一个一维数组就向后移动该一维数组所占的字节数。。。
12. 对指针进行下标为[n]的操作( 指针[n] )，相当于：*()指针+n),所以二维数组int a[2][3]中，a[1]指向第1行(从0开始计数)的第0个整型元素(也可以将a[1]理解为第1行数组的数组名)
13. `int a[3][4],(*p)[10] = a;` p指向拥有10个整型元素的数组，p指向的是整个数组
14. 多维数组的初始化

    ```c
    int a[3][5] = {0}; // 全部初始化为0
    int b[2][3] = {1,2,3,4,5,6};
    int c[2][2] = {{1,2},{3,4}};
    ```
15. 作为函数参数的多维数组名的传递方式和一维数组名相同,实际传递的都是指向数组第一个元素的指针，由于多维数组的第一个元素也是一个数组，编译器需要知道子数组的信息

    ```c
    int array[3][10];
    void func_1( int (*a)[10] );
    void func_2( int a[][10] );
    ```

    二维数组的形参的写法有两种，数组形式和指针形式，我个人建议用指针形式，因为当二维数组名作为参数传递时会隐式转换为int (*)[10]型指针(以上面的代码为例)

    以三维数组 `int a[3][4][5]`为例，当数组名a作为形参时。对应的实参写法为int (a*)[2][3]（int a[][2][3]）
16. 每一维的初始化列表各自都是一个初始化列表，由于初始化列表可以省略尾部的几个初始值，所以将int a[2][2][3][5]中的a[0][0][0][0]初始化为100，a[1][0][0][0]初始化为200，其余的初始化为0，可以用下面的写法:

    ```c
    int a[2][2][3][5] ={
    	{
    		{
    			{100}
    		}
    	},
    	{
    		{
    			{200}
    		}
    	}
    }
    ```
17. 一维数组在初始化时可以不写长度，编译器可以通过初始化的内容推断出数组的大小，多维数组只有第一维的大小可以不写，剩余的维的大小必须写明，

    但我建议声明数组时每一维的大小都显式写明
18. 解读指针数组，int *a[10]; 下标引用的优先级高于解引用，所以先对a进行下标操作再进行解引用操作，得到的是int类型，所以数组a里的每个元素是个指向int型元素的指针，同时10指出了该指针数组的大小。
19. 只要有可能 ， 函数的指针形参都应该声明为 const 。exp：const int *a ，表示指针所指向的空间里的内容不能被修改
20. 一般不要使用register关键字，现代编译器会更好的分配寄存器的使用

0000
